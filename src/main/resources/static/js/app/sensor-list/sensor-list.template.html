<div class="container container-fluid">
    <div class="row">
        <div class="col-xs-5">
            <div class="row">
                <div class="col-xs-6"><h3>Список датчиков</h3></div>
                <!--<div class="col-xs-6 text-right">-->
                    <!--<button class="btn btn-default" data-toggle="modal" data-target="#filterModal"-->
                            <!--style="margin-top: 15px;">Фильтр</button>-->
                <!--</div>-->
            </div>
            <div class="row" style="margin-bottom: 10px;">
                <div class="col-xs-12">
                    <span class="label label-info" ng-if="filter.controlObject != null && filter.controlObject != ''">
                        {{filter.controlObject}}
                        <span ng-click="filter.controlObject = ''">x</span>
                    </span>
                    <!--<span class="label label-info" ng-if="filter.controlElement != null && filter.controlElement != ''">-->
                        <!--{{filter.controlElement}}-->
                        <!--<span ng-click="filter.controlElement = ''">x</span>-->
                    <!--</span>-->
                    <!--<span class="label label-info" ng-if="filter.measurementType != null && filter.measurementType != ''">-->
                        <!--{{filter.measurementType}}-->
                        <!--<span ng-click="filter.measurementType = ''">x</span>-->
                    <!--</span>-->
                    <!--<span class="label label-info" ng-if="filter.sensorGroup != null && filter.sensorGroup != ''">-->
                        <!--{{filter.sensorGroup}}-->
                        <!--<span ng-click="filter.sensorGroup = ''">x</span>-->
                    <!--</span>-->
                    <span class="label label-info" ng-if="filter.sensorType != null && filter.sensorType != ''">
                        {{filter.sensorType}}
                        <span ng-click="filter.sensorType = ''">x</span>
                    </span>
                </div>
            </div>
            <div class="row">
                <div class="col-xs12">
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <tr ng-repeat="sensor in $ctrl.sensors | filter:filter"
                                ng-class="{success: sensor.on == 1, danger: sensor.on == 0, active: $ctrl.sensor == sensor}"
                                ng-click="$ctrl.setSensor(sensor)">
                                <td>
                                    {{sensor.name}}
                                </td>
                                <td class="text-right">
                                    <button ng-if="sensor.on == 0" ng-click="$ctrl.sensorOn(sensor)"
                                            class="btn btn-default" style="min-width: 120px;">
                                        Включить
                                    </button>
                                    <button ng-if="sensor.on == 1" ng-click="$ctrl.sensorOff(sensor)"
                                            class="btn btn-default" style="min-width: 120px;">
                                        Выключить
                                    </button>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xs-7">
            <h3>Информация о датчике <span ng-if="$ctrl.sensor != null">{{$ctrl.sensor.name}}</span></h3>
            <div ng-if="$ctrl.sensor != null">
                <table class="table table-bordered">
                    <tr>
                        <td>Объект контроля</td>
                        <td>{{$ctrl.sensor.controlObject}}</td>
                    </tr>
                    <!--<tr>-->
                        <!--<td>Элемент контроля</td>-->
                        <!--<td>{{$ctrl.sensor.controlElement}}</td>-->
                    <!--</tr>-->
                    <!--<tr>-->
                        <!--<td>Вид измерения</td>-->
                        <!--<td>{{$ctrl.sensor.measurementType}}</td>-->
                    <!--</tr>-->
                    <!--<tr>-->
                        <!--<td>Группа приборов</td>-->
                        <!--<td>{{$ctrl.sensor.sensorGroup}}</td>-->
                    <!--</tr>-->
                    <tr>
                        <td>Тип прибора</td>
                        <td>{{$ctrl.sensor.sensorType}}</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="filterModal" tabindex="-1" role="dialog" aria-labelledby="filterModalLabel">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="filterModalLabel">Фильтры</h4>
            </div>
            <div class="modal-body">
                <div class="form-horizontal">
                    <div class="form-group">
                        <label class="col-sm-4 control-label">Объект контроля</label>
                        <div class="col-sm-8">
                            <select class="form-control" ng-model="filter.controlObject"
                                    ng-model-options="{ getterSetter: true }">
                                <option></option>
                                <option ng-repeat="controlObject in $ctrl.controlObjects"
                                        value="{{controlObject}}">
                                    {{controlObject}}
                                </option>
                            </select>
                        </div>
                    </div>
                    <!--<div class="form-group">-->
                        <!--<label class="col-sm-4 control-label">Элемент контроля</label>-->
                        <!--<div class="col-sm-8">-->
                            <!--<select class="form-control" ng-model="filter.controlElement"-->
                                    <!--ng-model-options="{ getterSetter: true }">-->
                                <!--<option></option>-->
                                <!--<option ng-repeat="controlElement in $ctrl.controlElements"-->
                                        <!--value="{{controlElement}}">-->
                                    <!--{{controlElement}}-->
                                <!--</option>-->
                            <!--</select>-->
                        <!--</div>-->
                    <!--</div>-->
                    <!--<div class="form-group">-->
                        <!--<label class="col-sm-4 control-label">Вид измерения</label>-->
                        <!--<div class="col-sm-8">-->
                            <!--<select class="form-control" ng-model="filter.measurementType"-->
                                    <!--ng-model-options="{ getterSetter: true }">-->
                                <!--<option></option>-->
                                <!--<option ng-repeat="measurementType in $ctrl.measurementTypes"-->
                                        <!--value="{{measurementType}}">-->
                                    <!--{{measurementType}}-->
                                <!--</option>-->
                            <!--</select>-->
                        <!--</div>-->
                    <!--</div>-->
                    <!--<div class="form-group">-->
                        <!--<label class="col-sm-4 control-label">Группа приборов</label>-->
                        <!--<div class="col-sm-8">-->
                            <!--<select class="form-control" ng-model="filter.sensorGroup"-->
                                    <!--ng-model-options="{ getterSetter: true }">-->
                                <!--<option></option>-->
                                <!--<option ng-repeat="sensorGroup in $ctrl.sensorGroups"-->
                                        <!--value="{{sensorGroup}}">-->
                                    <!--{{sensorGroup}}-->
                                <!--</option>-->
                            <!--</select>-->
                        <!--</div>-->
                    <!--</div>-->
                    <div class="form-group">
                        <label class="col-sm-4 control-label">Выбор типа прибора</label>
                        <div class="col-sm-8">
                            <select class="form-control" ng-model="filter.sensorType"
                                    ng-model-options="{ getterSetter: true }">
                                <option></option>
                                <option ng-repeat="sensorType in $ctrl.sensorTypes"
                                        value="{{sensorType}}">
                                    {{sensorType}}
                                </option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Закрыть</button>
                <button type="button" class="btn btn-default" ng-click="$ctrl.clearFilter(filter)">Сбросить</button>
                <button type="button" class="btn btn-primary">Принять</button>
            </div>
        </div>
    </div>
</div>
